#include "services_microboone.fcl"

process_name: celltree

services:
{
  #TFileService: { fileName: "test.root" }
  #TimeTracker   {}
  RandomNumberGenerator: {}
  message:      @local::standard_info
                 @table::microboone_services
}


source:
{
  module_type: RootInput
  fileNames:  ["laser-7267-0790.root"] #[ "gen.root" ]
  firstEvent : 1
  maxEvents:  -1
}


outputs:{}


physics:
{
  analyzers:
  {
    WireCell:
    {
      module_type     : "CellTree"
      saveRaw         : false
      saveCalib       : false
      saveOpRaw	      : true
      saveOpFlash     : true
      saveSimChannel  : false 
      saveTrigger     : true
      saveMC          : false 
      saveJSON        : false 
      RawDigitLabel   : "daq"
      CalibLabel      : "caldata"
      OpDigitLabel    : "pmtreadout"
      OpFlashLabel    : "opflash"
      TriggerLabel    : "daq"  
      SpacePointLabels: ["trackkalmanhit","wirecell"]
      mcOption        : "all"
      opMultPEThresh  : 5
      saveMCTrackPoints : true
      outFile           : "celltree.root"
    }
  }
  analysis: [ WireCell ]
  end_paths: [ analysis ]
}

services.DetectorPropertiesService.NumberTimeSamples:               6400
services.DetectorPropertiesService.ReadOutWindowSize:               6400
services.DetectorPropertiesService.InheritNumberTimeSamples:        false
services.DetectorClocksService.InheritClockConfig:                  false
services.DetectorClocksService.TriggerOffsetTPC:                    -0.400e3